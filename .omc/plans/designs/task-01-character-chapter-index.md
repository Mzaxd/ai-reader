# P0-1: äººç‰©ç« èŠ‚ç´¢å¼•è®¾è®¡

## é—®é¢˜èƒŒæ™¯

åŸå‹å®¡æŸ¥æŠ¥å‘Šä¸­æŒ‡å‡ºï¼š**æ— äººç‰©ç« èŠ‚ç´¢å¼•è®¾è®¡ - ç‚¹å‡»äººç‰©åº”æ˜¾ç¤ºæ‰€æœ‰å‡ºåœºç« èŠ‚**

è¿™æ˜¯ä¸€ä¸ª **Blocking** çº§åˆ«çš„é—®é¢˜ï¼Œç›´æ¥å½±å“ç”¨æˆ·è¿½è¸ªäººç‰©å‡ºåœºçš„èƒ½åŠ›ã€‚

---

## è®¾è®¡æ–¹æ¡ˆ

### 1. UI ç»„ä»¶è®¾è®¡

#### 1.1 äººç‰©ç« èŠ‚ç´¢å¼•é¢æ¿

ä½ç½®ï¼šäººç‰©è¯¦æƒ…é¢æ¿ä¸­çš„ Tab é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ äººç‰©è¯¦æƒ… - å¶æ–‡æ´                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [åŸºæœ¬ä¿¡æ¯] [å…³ç³»] [å‡ºåœºç« èŠ‚] [æ¥æº]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“š å‡ºåœºç« èŠ‚ (å…± 15 ç« )                                        â”‚
â”‚                                                             â”‚
â”‚  æ’åº: â—‹ æŒ‰ç« èŠ‚é¡ºåº  â— æŒ‰å‡ºç°é¢‘ç‡  â—‹ æŒ‰æ—¶é—´çº¿                    â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¬¬ä¸€ç«  å®‡å®™çš„é—ªçƒ                                     â”‚   â”‚
â”‚  â”‚ ğŸ“ ä½ç½®: 3 å¤„  ğŸ“„ é¡µç : 1-15                          â”‚   â”‚
â”‚  â”‚ é¢„è§ˆ: "å¶æ–‡æ´ç«™åœ¨é›·è¾¾å³°ä¸Šï¼Œæœ›ç€è¿œæ–¹çš„å¤©é™…çº¿..."           â”‚   â”‚
â”‚  â”‚                                    [è·³è½¬ â†’]           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¬¬ä¸‰ç«  çº¢å²¸åŸºåœ°                                       â”‚   â”‚
â”‚  â”‚ ğŸ“ ä½ç½®: 12 å¤„  ğŸ“„ é¡µç : 45-78                         â”‚   â”‚
â”‚  â”‚ é¢„è§ˆ: "å¶æ–‡æ´è¢«åˆ†é…åˆ°äº†çº¢å²¸åŸºåœ°çš„ç›‘å¬éƒ¨é—¨..."             â”‚   â”‚
â”‚  â”‚                                    [è·³è½¬ â†’]           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚                      [åŠ è½½æ›´å¤š...]                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. äº¤äº’æµç¨‹

```mermaid
flowchart TD
    A[ç”¨æˆ·ç‚¹å‡»äººç‰©èŠ‚ç‚¹] --> B[æ‰“å¼€äººç‰©è¯¦æƒ…é¢æ¿]
    B --> C[åˆ‡æ¢åˆ°"å‡ºåœºç« èŠ‚"Tab]
    C --> D[æ˜¾ç¤ºç« èŠ‚åˆ—è¡¨]
    D --> E{ç”¨æˆ·æ“ä½œ}
    E --> F[ç‚¹å‡»è·³è½¬]
    F --> G[å¯¼èˆªåˆ°é˜…è¯»å™¨]
    G --> H[å®šä½å¹¶é«˜äº®]
```

### 3. æ•°æ®æ¨¡å‹å®šä¹‰

```typescript
/**
 * äººç‰©åœ¨ç« èŠ‚ä¸­çš„å‡ºç°è®°å½•
 */
interface CharacterChapterAppearance {
  chapterId: string;
  chapterNumber: number;
  chapterTitle: string;
  appearanceCount: number;
  pageRange: { start: number; end: number; };
  paragraphIds: string[];
  firstAppearancePreview: string;
  firstParagraphId: string;
}

/**
 * äººç‰©ç« èŠ‚ç´¢å¼•
 */
interface CharacterChapterIndex {
  characterId: string;
  characterName: string;
  totalChapters: number;
  totalAppearances: number;
  chapters: CharacterChapterAppearance[];
  updatedAt: string;
}

/**
 * æ’åºæ–¹å¼
 */
type ChapterSortBy = 'chapter_order' | 'appearance_count' | 'timeline';
```

### 4. å®ç°å»ºè®®

- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡ç« èŠ‚
- åˆ†é¡µåŠ è½½ï¼ˆæ¯é¡µ 20 æ¡ï¼‰
- æŒ‰äººç‰© ID ç¼“å­˜ç´¢å¼•æ•°æ®

---

## éªŒæ”¶æ ‡å‡†

- [ ] ç‚¹å‡»äººç‰©å¯æŸ¥çœ‹å‡ºåœºç« èŠ‚åˆ—è¡¨
- [ ] ç« èŠ‚åˆ—è¡¨æ˜¾ç¤ºæ ‡é¢˜ã€ä½ç½®æ•°ã€é¡µç 
- [ ] æ”¯æŒæŒ‰ç« èŠ‚é¡ºåº/å‡ºç°é¢‘ç‡æ’åº
- [ ] ç‚¹å‡»ç« èŠ‚å¯è·³è½¬åˆ°é˜…è¯»å™¨å¯¹åº”ä½ç½®
