# P1-2: ç¬”è®°/é«˜äº®ç³»ç»Ÿè®¾è®¡

## é—®é¢˜èƒŒæ™¯

åŸå‹å®¡æŸ¥æŠ¥å‘Šä¸­æŒ‡å‡ºï¼š**æ— ç¬”è®°/é«˜äº®åŠŸèƒ½è®¾è®¡ - é˜…è¯»å™¨æ ‡é…**

è¿™æ˜¯ä¸€ä¸ª **Major** çº§åˆ«çš„é—®é¢˜ï¼Œç¬”è®°å’Œé«˜äº®æ˜¯é˜…è¯»å™¨çš„æ ¸å¿ƒåŠŸèƒ½ã€‚

---

## è®¾è®¡æ–¹æ¡ˆ

### 1. é«˜äº®åŠŸèƒ½

#### 1.1 é«˜äº®å·¥å…·æ 

é€‰ä¸­æ–‡æœ¬åæ˜¾ç¤ºæµ®åŠ¨å·¥å…·æ ï¼š

```
    é€‰ä¸­çš„æ–‡æœ¬ä¼šåœ¨è¿™é‡Œæ˜¾ç¤º
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¡  ğŸŸ¢  ğŸ”µ  ğŸ©·  ğŸŸ£  â”‚  ğŸ“  â”‚  ğŸ—‘ï¸  â”‚
â”‚  é»„   ç»¿   è“   ç²‰   ç´«  â”‚ ç¬”è®° â”‚ åˆ é™¤ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 é«˜äº®æ ·å¼

| é¢œè‰² | ç”¨é€” | CSS å˜é‡ |
|-----|------|---------|
| é»„è‰² | é‡è¦å†…å®¹ | --highlight-yellow |
| ç»¿è‰² | å…³é”®æ¦‚å¿µ | --highlight-green |
| è“è‰² | äººç‰©ä¿¡æ¯ | --highlight-blue |
| ç²‰è‰² | æƒ…æ„Ÿæ®µè½ | --highlight-pink |
| ç´«è‰² | ä¼ç¬”çº¿ç´¢ | --highlight-purple |

### 2. ç¬”è®°åŠŸèƒ½

#### 2.1 ç¬”è®°ç¼–è¾‘é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ æ·»åŠ ç¬”è®°                                           [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å¼•ç”¨æ–‡æœ¬:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ "å¶æ–‡æ´ç«™åœ¨é›·è¾¾å³°ä¸Šï¼Œæœ›ç€è¿œæ–¹çš„å¤©é™…çº¿..."               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ç¬”è®°å†…å®¹:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  è¿™é‡Œæ˜¯äººç‰©çš„é¦–æ¬¡å‡ºåœºï¼Œå¥ å®šäº†æ•´éƒ¨å°è¯´çš„åŸºè°ƒ...          â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  æ ‡ç­¾: [äººç‰©] [ä¼ç¬”] [ + æ·»åŠ æ ‡ç­¾ ]                          â”‚
â”‚                                                             â”‚
â”‚                              [å–æ¶ˆ]  [ä¿å­˜]                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ç¬”è®°ç®¡ç†é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š ç¬”è®°ä¸æ ‡æ³¨                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç­›é€‰: [å…¨éƒ¨â–¼] [æœ‰ç¬”è®°â–¼]  æ’åº: [æŒ‰æ—¶é—´â–¼]  [å¯¼å‡º â†“]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸŸ¡ ç¬¬ä¸‰ç«  P.56                                       â”‚   â”‚
â”‚  â”‚ "å¶æ–‡æ´è¢«åˆ†é…åˆ°äº†çº¢å²¸åŸºåœ°..."                          â”‚   â”‚
â”‚  â”‚ ğŸ“ é‡è¦è½¬æŠ˜ç‚¹ï¼Œäººç‰©å‘½è¿çš„æ”¹å˜                          â”‚   â”‚
â”‚  â”‚ ğŸ·ï¸ [äººç‰©] [è½¬æŠ˜]                     2026-02-19      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”µ ç¬¬ä¸€ç«  P.12                                       â”‚   â”‚
â”‚  â”‚ "ä¸‰ä½“ä¸–ç•Œæ˜¯ä¸€ä¸ªä¸‰æ˜Ÿç³»ç»Ÿ..."                           â”‚   â”‚
â”‚  â”‚ ğŸ“ æ ¸å¿ƒè®¾å®šï¼Œç†è§£æ•´éƒ¨ä½œå“çš„å…³é”®                        â”‚   â”‚
â”‚  â”‚ ğŸ·ï¸ [è®¾å®š] [ç§‘å¹»]                     2026-02-18      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. æ•°æ®æ¨¡å‹

```typescript
/**
 * é«˜äº®é¢œè‰²æšä¸¾
 */
enum HighlightColor {
  YELLOW = 'yellow',
  GREEN = 'green',
  BLUE = 'blue',
  PINK = 'pink',
  PURPLE = 'purple',
}

/**
 * é«˜äº®è®°å½•
 */
interface Highlight {
  id: string;
  bookId: string;
  chapterId: string;
  paragraphId: string;
  startOffset: number;
  endOffset: number;
  color: HighlightColor;
  text: string;
  createdAt: string;
  updatedAt: string;
}

/**
 * ç¬”è®°
 */
interface Note {
  id: string;
  highlightId: string;
  content: string;
  tags: string[];
  createdAt: string;
  updatedAt: string;
}

/**
 * ç¬”è®°ä¸é«˜äº®ç»„åˆ
 */
interface AnnotatedHighlight extends Highlight {
  note?: Note;
}

/**
 * ç¬”è®°å¯¼å‡ºæ ¼å¼
 */
type NoteExportFormat = 'markdown' | 'html' | 'json';
```

### 5. äº¤äº’æµç¨‹

```mermaid
flowchart TD
    A[é€‰ä¸­æ–‡æœ¬] --> B[æ˜¾ç¤ºé«˜äº®å·¥å…·æ ]
    B --> C{ç”¨æˆ·æ“ä½œ}
    
    C -->|é€‰æ‹©é¢œè‰²| D[åº”ç”¨é«˜äº®]
    D --> E[ä¿å­˜é«˜äº®è®°å½•]
    
    C -->|ç‚¹å‡»ç¬”è®°| F[æ‰“å¼€ç¬”è®°é¢æ¿]
    F --> G[è¾“å…¥ç¬”è®°å†…å®¹]
    G --> H[ä¿å­˜ç¬”è®°]
    H --> I[å…³è”é«˜äº®è®°å½•]
    
    E --> J[æ­£æ–‡æ˜¾ç¤ºé«˜äº®]
    I --> J
```

### 6. æ­£æ–‡æ˜¾ç¤ºæ ·å¼

```css
/* é«˜äº®åŸºç¡€æ ·å¼ */
.highlight {
  padding: 2px 0;
  border-radius: 2px;
  cursor: pointer;
}

.highlight-yellow { background-color: rgba(255, 235, 59, 0.4); }
.highlight-green { background-color: rgba(76, 175, 80, 0.3); }
.highlight-blue { background-color: rgba(33, 150, 243, 0.3); }
.highlight-pink { background-color: rgba(233, 30, 99, 0.3); }
.highlight-purple { background-color: rgba(156, 39, 176, 0.3); }

/* æœ‰ç¬”è®°çš„é«˜äº®æ˜¾ç¤ºå›¾æ ‡ */
.highlight-with-note::after {
  content: 'ğŸ“';
  font-size: 0.8em;
  margin-left: 2px;
}
```

### 7. å¯¼å‡ºåŠŸèƒ½

æ”¯æŒå¯¼å‡ºä¸ºï¼š
- **Markdown**: æŒ‰ç« èŠ‚ç»„ç»‡çš„ç¬”è®°åˆ—è¡¨
- **HTML**: å¸¦æ ¼å¼çš„ç¬”è®°æ–‡æ¡£
- **JSON**: ç»“æ„åŒ–æ•°æ®å¤‡ä»½

---

## éªŒæ”¶æ ‡å‡†

- [ ] é€‰ä¸­æ–‡æœ¬å¯æ·»åŠ é«˜äº®
- [ ] æ”¯æŒ 5 ç§é«˜äº®é¢œè‰²
- [ ] å¯ä¸ºé«˜äº®æ·»åŠ ç¬”è®°
- [ ] ç¬”è®°ç®¡ç†é¢æ¿æ­£å¸¸æ˜¾ç¤º
- [ ] æ”¯æŒæŒ‰æ ‡ç­¾ç­›é€‰
- [ ] ç¬”è®°å¯å¯¼å‡º
